<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Meson の実行</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
" data-spy="scroll" data-target="#toc" data-offset="70">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form action="" class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home" id="home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		モジュール <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="modules-menu">
					<li>
				<a href="Gnome-module.html">GNOME</a>
			</li>
					<li>
				<a href="i18n-module.html">i18n</a>
			</li>
					<li>
				<a href="Pkgconfig-module.html">Pkgconfig</a>
			</li>
					<li>
				<a href="Python-3-module.html">Python 3</a>
			</li>
					<li>
				<a href="Qt4-module.html">Qt4</a>
			</li>
					<li>
				<a href="Qt5-module.html">Qt5</a>
			</li>
					<li>
				<a href="RPM-module.html">RPM</a>
			</li>
					<li>
				<a href="Windows-module.html">Windows</a>
			</li>
			</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		クィックリファレンス <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">関数</a>
			</li>
					<li>
				<a href="Build-options.html">オプション</a>
			</li>
					<li>
				<a href="Configuration.html">設定</a>
			</li>
					<li>
				<a href="Dependencies.html">依存関係</a>
			</li>
					<li>
				<a href="Unit-tests.html">テスト</a>
			</li>
					<li>
				<a href="Syntax.html">文法</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>Meson ビルドシステム</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation-1.0" data-hotdoc-ref="Running-Meson.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
	<script src="assets/js/sitemap.js"></script>
</div>

<div id="body">
	<div id="main">
				
<div id="page-description" data-hotdoc-source="Running-Meson.md" data-hotdoc-role="main">
<h1 id="meson-">Meson の実行</h1>
<p>Meson を実行する方法は 2 つあります。1 つは、ソースツリーにおいて直接、コマンド <code>/path/to/source/meson.py</code>
を実行することです。一方、Meson がインストールされていれば、そのコマンドは単に <code>meson</code>
となります。本マニュアルでは、説明を簡単にするため、後者の方法のみを示していきます。</p>
<p>本マニュアルの記述時点で、Meson はコマンドライン版のみが提供されています。つまり Meson
はターミナル端末を使って実行することになります。MSVC コンパイラーを利用している場合は、"Visual Studio コマンドプロンプト" から
Meson を実行します。</p>
<h1 id="">ソースの設定</h1>
<p>ここで Meson ビルドシステムを利用するソースツリーがあるものとします。このことはつまり、最上位のディレクトリに <code>meson.build</code>
ファイルがあるということです。ビルド実行は以下のコマンドにより行います。</p>
<pre><code>cd /path/to/source/root
mkdir builddir
cd builddir
meson ..
</code></pre>
<p>初めに、ビルドされるファイルを収容するディレクトリを生成します。そしてそのディレクトリに移動して Meson
を実行します。実行の際にはソースのルートディレクトリを指定します。</p>
<p>ヒント： meson 実行の際の書式は <code>meson [options] [srcdir] [builddir]</code> です。<code>srcdir</code> と
<code>builddir</code> はいずれかを省略することもできます。その場合 <code>srcdir</code> は、<code>meson.build</code>
ファイルの位置により決定されます。また <code>builddir</code> は <code>pwd</code> になります。</p>
<p>Meson then loads the build configuration file and writes the corresponding
build backend in the build directory. By default Meson generates a <em>debug
build</em>, which turns on basic warnings and debug information and disables
compiler optimizations.</p>
<p>You can specify a different type of build with the <code>--buildtype</code> command
line argument. It can have one of the following values.</p>
<table>
<thead>
<tr>
<th> 値</th>
<th> 意味</th>
</tr>
</thead>
<tbody>
<tr>
<td> <code>plain</code>
</td>
<td> no extra build flags are used, even for compiler warnings, useful for distro packagers and other cases where you need to specify all arguments by yourself</td>
</tr>
<tr>
<td> <code>debug</code>
</td>
<td> debug info is generated but the result is not optimized, this is the default</td>
</tr>
<tr>
<td> <code>debugoptimized</code>
</td>
<td> debug info is generated and the code is optimized (on most compilers this means <code>-g -O2</code>)</td>
</tr>
<tr>
<td> <code>release</code>
</td>
<td> full optimization, no debug info</td>
</tr>
</tbody>
</table>
<p>The build directory is mandatory. The reason for this is that it simplifies
the build process immensely. Meson will not under any circumstances write
files inside the source directory (if it does, it is a bug and should be
fixed). This means that the user does not need to add a bunch of files to
their revision control's ignore list. It also means that you can create
arbitrarily many build directories for any given source tree. If we wanted
to test building the source code with the Clang compiler instead of the
system default, we could just type the following commands.</p>
<pre><code>cd /path/to/source/root
mkdir buildclang
cd buildclang
CC=clang CXX=clang++ meson ..
</code></pre>
<p>This separation is even more powerful if your code has multiple
configuration options (such as multiple data backends). You can create a
separate subdirectory for each of them. You can also have build directories
for optimized builds, code coverage, static analysis and so on. They are all
neatly separated and use the same source tree. Changing between different
configurations is just a question of changing to the corresponding
directory.</p>
<p>Unless otherwise mentioned, all following command line invocations are meant
to be run in the build directory.</p>
<p>By default Meson will use the Ninja backend to build your project. If you
wish to use any of the other backends, you need to pass the corresponding
argument during configuration time. As an example, here is how you would use
Meson to generate a Visual studio solution.</p>
<pre><code>meson &lt;source dir&gt; &lt;build dir&gt; --backend=vs2010
</code></pre>
<p>You can then open the generated solution with Visual Studio and compile it
in the usual way. A list of backends can be obtained with <code>meson --help</code>.</p>
<h1 id="1">ソースの構築</h1>
<p>If you are not using an IDE, Meson uses the <a href="https://ninja-build.org/">Ninja build
system</a> to actually build the code. To start the
build, simply type the following command.</p>
<pre><code>ninja
</code></pre>
<p>The main usability difference between Ninja and Make is that Ninja will
automatically detect the number of CPUs in your computer and parallelize
itself accordingly. You can override the amount of parallel processes used
with the command line argument <code>-j &lt;num processes&gt;</code>.</p>
<p>It should be noted that after the initial configure step <code>ninja</code> is the only
command you ever need to type to compile. No matter how you alter your
source tree (short of moving it to a completely new location), Meson will
detect the changes and regenerate itself accordingly. This is especially
handy if you have multiple build directories. Often one of them is used for
development (the "debug" build) and others only every now and then (such as
a "static analysis" build). Any configuration can be built just by <code>cd</code>'ing
to the corresponding directory and running Ninja.</p>
<h1 id="2">テストの実行</h1>
<p>Meson provides native support for running tests. The command to do that is
simple.</p>
<pre><code>ninja test
</code></pre>
<p>Meson does not force the use of any particular testing framework. You are
free to use GTest, Boost Test, Check or even custom executables.</p>
<h1 id="3">インストール</h1>
<p>ビルドしたソフトウェアのインストールは、以下のような単純なコマンド実行により行います。</p>
<pre><code>ninja install
</code></pre>
<p>By default Meson installs to <code>/usr/local</code>. This can be changed by passing
the command line argument <code>--prefix /your/prefix</code> to Meson during configure
time. Meson also supports the <code>DESTDIR</code> variable used in e.g. building
packages. It is used like this:</p>
<pre><code>DESTDIR=/path/to/staging ninja install
</code></pre>
<h1 id="4">コマンドラインヘルプ</h1>
<p>Meson には標準的なコマンドラインヘルプの機能があります。以下のコマンドによってヘルプを表示します。</p>
<pre><code>meson --help
</code></pre>

</div>


		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		

<hr>

<div class="license-description">
    Web サイトのライセンス情報は <a href="legal.html">Legal</a> ページに示しています。
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson//edit/master/markdown/Running-Meson.md" data-hotdoc-role="edit-button">Edit on github</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>
