<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>文法</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">


<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>


<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
" data-spy="scroll" data-target="#toc" data-offset="70">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> モジュール <span class="caret"></span> </a>
	<ul class="dropdown-menu" id="modules-menu">
					<li>
				<a href="Gnome-module.html">GNOME</a>
			</li>
					<li>
				<a href="i18n-module.html">i18n</a>
			</li>
					<li>
				<a href="Pkgconfig-module.html">Pkgconfig</a>
			</li>
					<li>
				<a href="Python-module.html">Python</a>
			</li>
					<li>
				<a href="Python-3-module.html">Python 3</a>
			</li>
					<li>
				<a href="Qt4-module.html">Qt4</a>
			</li>
					<li>
				<a href="Qt5-module.html">Qt5</a>
			</li>
					<li>
				<a href="RPM-module.html">RPM</a>
			</li>
					<li>
				<a href="Windows-module.html">Windows</a>
			</li>
					<li>
				<a href="Hotdoc-module.html">Hotdoc</a>
			</li>
			</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> クィックリファレンス <span class="caret"></span> </a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">関数</a>
			</li>
					<li>
				<a href="Build-options.html">オプション</a>
			</li>
					<li>
				<a href="Configuration.html">設定</a>
			</li>
					<li>
				<a href="Dependencies.html">依存関係</a>
			</li>
					<li>
				<a href="Unit-tests.html">テスト</a>
			</li>
					<li>
				<a href="Syntax.html">文法</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>Meson ビルドシステム</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation-1.0" data-hotdoc-ref="Syntax.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
	<script src="assets/js/sitemap.js"></script>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-source="Syntax.md" data-hotdoc-role="main">
        <h1 id="">文法</h1>
<p>The syntax of Meson's specification language has been kept as simple as
possible. It is <em>strongly typed</em> so no object is ever converted to another
under the covers. Variables have no visible type which makes Meson
<em>dynamically typed</em> (also known as <em>duck typed</em>).</p>
<p>The main building blocks of the language are <em>variables</em>, <em>numbers</em>,
<em>booleans</em>, <em>strings</em>, <em>arrays</em>, <em>function calls</em>, <em>method calls</em>, <em>if
statements</em> and <em>includes</em>.</p>
<p>Usually one Meson statement takes just one line. There is no way to have
multiple statements on one line as in e.g. <em>C</em>. Function and method calls'
argument lists can be split over multiple lines. Meson will autodetect this
case and do the right thing. In other cases you can get multi-line
statements by ending the line with a <code>\</code>. Apart from line ending whitespace
has no syntactic meaning.</p>
<h2 id="1">変数</h2>
<p>Meson
における変数は、高レベルなプログラミング言語と同じように動作します。変数には、整数や文字列など、あらゆる型の値を収められます。事前の宣言は不要であり、変数に値を割り当てればそのまま利用できます。以下に示すのは、2
つの変数に値を割り当てた例です。</p>
<pre><code class="language-meson">var1 = 'hello'
var2 = 102
</code></pre>
<p>One important difference in how variables work in Meson is that all objects
are immutable. This is different from, for example, how Python works.</p>
<pre><code class="language-meson">var1 = [1, 2, 3]
var2 = var1
var2 += [4]
# var2 は [1, 2, 3, 4] に
# var1 は [1, 2, 3] のまま
</code></pre>
<h2 id="2">数字</h2>
<p>Meson が扱う数字は整数のみです。数値を割り当てるだけで簡単に宣言できます。単純な算術であればサポートされています。</p>
<pre><code class="language-meson">x = 1 + 2
y = 3 * 4
d = 5 % 3 # 結果は 2 です
</code></pre>
<p>Hexadecimal literals are supported since version 0.45.0:</p>
<pre><code class="language-meson">int_255 = 0xFF
</code></pre>
<p>Octal and binary literals are supported since version 0.47.0:</p>
<pre><code class="language-meson">int_493 = 0o755
int_1365 = 0b10101010101
</code></pre>
<p>文字列は以下のようにして数値に変換できます。</p>
<pre><code class="language-meson">string_var = '42'
num = string_var.to_int()
</code></pre>
<h2 id="3">論理値</h2>
<p>論理値は <code>true</code> と <code>false</code> です。</p>
<pre><code class="language-meson">truth = true
</code></pre>
<h2 id="4">文字列</h2>
<p>Meson における文字列はシングルクォートで囲みます。</p>
<pre><code class="language-meson">single quote = 'contains a \' character'
</code></pre>
<p>エスケープシーケンスの一覧は以下のとおりです。</p>
<ul>
<li>
<code>\\</code> バックスラッシュ</li>
<li>
<code>\'</code> シングルクォート</li>
<li>
<code>\a</code> ベル</li>
<li>
<code>\b</code> バックスペース</li>
<li>
<code>\f</code> フォームフィード</li>
<li>
<code>\n</code> 改行</li>
<li>
<code>\r</code> キャリッジリターン</li>
<li>
<code>\t</code> 水平タブ</li>
<li>
<code>\v</code> 垂直タブ</li>
<li>
<code>\ooo</code> ooo で示される 8 進数値</li>
<li>
<code>\xhh</code> hh で示される 16 進数値</li>
<li>
<code>\uxxxx</code> xxxx で示される 16 ビットキャラクター</li>
<li>
<code>\Uxxxxxxxx</code> xxxxxxxx で示される 32 ビットキャラクター</li>
<li>
<code>\N{name}</code> Character named name in Unicode database</li>
</ul>
<p>As in python and C, up to three octal digits are accepted in <code>\ooo</code>.</p>
<h4 id="5">文字列の連結</h4>
<p>文字列は <code>+</code> によって連結されて、新たな文字列となります。</p>
<pre><code class="language-meson">str1 = 'abc'
str2 = 'xyz'
combined = str1 + '_' + str2 # 文字が連結されて abc_xyz に
</code></pre>
<h4 id="6">複数行にわたった文字列の定義</h4>
<p>Strings running over multiple lines can be declared with three single
quotes, like this:</p>
<pre><code class="language-meson">multiline_string = '''#include &lt;foo.h&gt;
int main (int argc, char ** argv) {
  return FOO_SUCCESS;
}'''
</code></pre>
<p>These are raw strings that do not support the escape sequences listed
above.  These strings can also be combined with the string formatting
functionality described below.</p>
<h4 id="7">文字列の整形</h4>
<p>Strings can be built using the string formatting functionality.</p>
<pre><code class="language-meson">template = 'string: @0@, number: @1@, bool: @2@'
res = template.format('text', 1, true)
# res now has value 'string: text, number: 1, bool: true'
</code></pre>
<p>As can be seen, the formatting works by replacing placeholders of type
<code>@number@</code> with the corresponding argument.</p>
<h4 id="8">文字操作メソッド</h4>
<p>Strings also support a number of other methods that return transformed
copies.</p>
<p><strong>.strip()</strong></p>
<pre><code class="language-meson"># Similar to the Python str.strip(). Removes leading/ending spaces and
newlines
define = ' -Dsomedefine '
stripped_define = define.strip()
# 'stripped_define' now has the value '-Dsomedefine'
</code></pre>
<p><strong>.to_upper()</strong>、 <strong>.to_lower()</strong></p>
<pre><code class="language-meson">target = 'x86_FreeBSD'
upper = target.to_upper() # t now has the value 'X86_FREEBSD'
lower = target.to_lower() # t now has the value 'x86_freebsd'
</code></pre>
<p><strong>.to_int()</strong></p>
<pre><code class="language-meson">version = '1'
# Converts the string to an int and throws an error if it can't be
ver_int = version.to_int()
</code></pre>
<p><strong>.contains()</strong>、 <strong>.startswith()</strong>、 <strong>.endswith()</strong></p>
<pre><code class="language-meson">target = 'x86_FreeBSD'
is_fbsd = target.to_lower().contains('freebsd')
# is_fbsd は論理値 'true' に
is_x86 = target.startswith('x86') # 論理値 'true' に
is_bsd = target.to_lower().endswith('bsd') # 論理値 'true' に
</code></pre>
<p><strong>.split()</strong>、 <strong>.join()</strong></p>
<pre><code class="language-meson"># Similar to the Python str.split()
components = 'a b   c d '.split()
# components now has the value ['a', 'b', 'c', 'd']
components = 'a b   c d '.split(' ')
# components now has the value ['a', 'b', '', '', 'c', 'd', '']

# Similar to the Python str.join()  output = ' '.join(['foo', 'bar'])  #
Output value is 'foo bar' pathsep = ':' path = pathsep.join(['/usr/bin',
'/bin', '/usr/local/bin'])  # path now has the value
'/usr/bin:/bin:/usr/local/bin'

# For joining paths, you should use join_paths()  # This has the advantage
of being cross-platform path = join_paths(['/usr', 'local', 'bin'])  # path
now has the value '/usr/local/bin'

# Example to set an API version for use in library(), install_header(), etc
project('project', 'c', version: '0.2.3')  version_array =
meson.project_version().split('.')  # version_array now has the value ['0',
'2', '3'] api_version = '.'.join([version_array[0], version_array[1]])  #
api_version now has the value '0.2'

# We can do the same with .format() too: api_version =
'@0@.@1@'.format(version_array[0], version_array[1])  # api_version now
(again) has the value '0.2'
</code></pre>
<p><strong>.underscorify()</strong></p>
<pre><code class="language-meson">name = 'Meson Docs.txt#Reference-manual'
# Replaces all characters other than `a-zA-Z0-9` with `_` (underscore)
# Useful for substituting into #defines, filenames, etc.
underscored = name.underscorify()
# underscored now has the value 'Meson_Docs_txt_Reference_manual'
</code></pre>
<p><strong>.version_compare()</strong></p>
<pre><code class="language-meson">version = '1.2.3'
# Compare version numbers semantically
is_new = version.version_compare('&gt;=2.0')
# is_new now has the boolean value false
# Supports the following operators: '&gt;', '&lt;', '&gt;=', '&lt;=', '!=', '==', '='
</code></pre>
<h2 id="9">配列</h2>
<p>Arrays are delimited by brackets. An array can contain an arbitrary number
of objects of any type.</p>
<pre><code class="language-meson">my_array = [1, 2, 'string', some_obj]
</code></pre>
<p>Accessing elements of an array can be done via array indexing:</p>
<pre><code class="language-meson">my_array = [1, 2, 'string', some_obj]
second_element = my_array[1]
last_element = my_array[-1]
</code></pre>
<p>You can add more items to an array like this:</p>
<pre><code class="language-meson">my_array += ['foo', 3, 4, another_obj]
</code></pre>
<p>When adding a single item, you do not need to enclose it in an array:</p>
<pre><code class="language-meson">my_array += ['something']
# This also works
my_array += 'else'
</code></pre>
<p>Note appending to an array will always create a new array object and assign
it to <code>my_array</code> instead of modifying the original since all objects in
Meson are immutable.</p>
<h4 id="10">配列操作メソッド</h4>
<p>The following methods are defined for all arrays:</p>
<ul>
<li>
<code>length</code>, the size of the array</li>
<li>
<code>contains</code>, returns <code>true</code> if the array contains the object given as
argument, <code>false</code> otherwise</li>
<li>
<code>get</code>, returns the object at the given index, negative indices count from
the back of the array, indexing out of bounds is a fatal error. Provided
for backwards-compatibility, it is identical to array indexing.</li>
</ul>
<h2 id="11">ディクショナリ</h2>
<p>Dictionaries are delimited by curly braces. A dictionary can contain an
arbitrary number of key value pairs. Keys are required to be literal
strings, values can be objects of any type.</p>
<pre><code class="language-meson">my_dict = {'foo': 42, 'bar': 'baz'}
</code></pre>
<p>Keys must be unique:</p>
<pre><code class="language-meson"># This will fail
my_dict = {'foo': 42, 'foo': 43}
</code></pre>
<p>Dictionaries are immutable.</p>
<p>Dictionaries are available since 0.47.0.</p>
<p>Visit the <a href="Reference-manual.html#dictionary-object">Reference Manual</a> to read
about the methods exposed by dictionaries.</p>
<h2 id="12">関数呼び出し</h2>
<p>Meson provides a set of usable functions. The most common use case is
creating build objects.</p>
<pre><code class="language-meson">executable('progname', 'prog.c')
</code></pre>
<h2 id="13">メソッド呼び出し</h2>
<p>Objects can have methods, which are called with the dot operator. The exact
methods it provides depends on the object.</p>
<pre><code class="language-meson">myobj = some_function()
myobj.do_something('now')
</code></pre>
<h2 id="if-">if ステートメント</h2>
<p>if ステートメントは他の言語と同様に動作します。</p>
<pre><code class="language-meson">var1 = 1
var2 = 2
if var1 == var2 # Evaluates to false
  something_broke()
elif var3 == var2
  something_else_broke()
else
  everything_ok()
endif

opt = get_option('someoption')
if opt != 'foo'
  do_something()
endif
</code></pre>
<h2 id="14">論理演算子</h2>
<p>Meson has the standard range of logical operations which can be used in <code>if</code>
statements.</p>
<pre><code class="language-meson">if a and b
  # do something
endif
if c or d
  # do something
endif
if not e
  # do something
endif
if not (f or g)
  # do something
endif
</code></pre>
<p>Logical operations work only on boolean values.</p>
<h2 id="foreach-">Foreach ステートメント</h2>
<p>To do an operation on all elements of an iterable, use the <code>foreach</code>
command.</p>
<blockquote>
<p>Note that Meson variables are immutable. Trying to assign a new value &gt; to
the iterated object inside a foreach loop will not affect foreach's &gt;
control flow.</p>
</blockquote>
<h3 id="foreach-with-an-array">Foreach with an array</h3>
<p>Here's an example of how you could define two executables with corresponding
tests using arrays and foreach.</p>
<pre><code class="language-meson">progs = [['prog1', ['prog1.c', 'foo.c']],
         ['prog2', ['prog2.c', 'bar.c']]]

foreach p : progs
  exe = executable(p[0], p[1])
  test(p[0], exe)
endforeach
</code></pre>
<h3 id="foreach-with-a-dictionary">Foreach with a dictionary</h3>
<p>Here's an example of you could iterate a set of components that should be
compiled in according to some configuration. This uses a
[dictionary][dictionaries], which is available since 0.47.0.</p>
<pre><code class="language-meson">components = {
  'foo': ['foo.c'],
  'bar': ['bar.c'],
  'baz': ['baz.c'],
}

# compute a configuration based on system dependencies, custom logic conf =
configuration_data()  conf.set('USE_FOO', 1)

# Determine the sources to compile
sources_to_compile = []
foreach name, sources : components
  if conf.get('USE_@0@'.format(name.to_upper()), 0) == 1
    sources_to_compile += sources
  endif
endforeach
</code></pre>
<h2 id="15">コメント</h2>
<p>A comment starts with the <code>#</code> character and extends until the end of the
line.</p>
<pre><code class="language-meson">some_function() # これはコメントです
some_other_function()
</code></pre>
<h2 id="16">三項演算子</h2>
<p>三項演算子は他の言語と同様に動作します。</p>
<pre><code class="language-meson">x = condition ? true_value : false_value
</code></pre>
<p>The only exception is that nested ternary operators are forbidden to improve
legibility. If your branching needs are more complex than this you need to
write an <code>if/else</code> construct.</p>
<h2 id="includes">Includes</h2>
<p>Most source trees have multiple subdirectories to process. These can be
handled by Meson's <code>subdir</code> command. It changes to the given subdirectory
and executes the contents of <code>meson.build</code> in that subdirectory. All state
(variables etc) are passed to and from the subdirectory. The effect is
roughly the same as if the contents of the subdirectory's Meson file would
have been written where the include command is.</p>
<pre><code class="language-meson">test_data_dir = 'data'
subdir('tests')
</code></pre>
<h2 id="17">ユーザー定義の関数およびメソッド</h2>
<p>Meson does not currently support user-defined functions or methods. The
addition of user-defined functions would make Meson Turing-complete which
would make it harder to reason about and more difficult to integrate with
tools like IDEs. More details about this are <a href="FAQ.html#why-is-meson-not-just-a-python-module-so-i-could-code-my-build-setup-in-python">in the
FAQ</a>.
If because of this limitation you find yourself copying and pasting code a
lot you may be able to use a <a href="Syntax.html#foreach-statements"><code>foreach</code> loop instead</a>.</p>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<hr>
	<div id="footer">
		    

	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
